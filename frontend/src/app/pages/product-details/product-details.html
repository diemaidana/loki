<p-toast position="top-right"/>
<p-confirmdialog />
<div class="product-container container">
    <div class="img-container">
        <p-image src="{{ product()?.image }}" alt="{{ product()?.name }}" width="500" [preview]="true" />
    </div>
    <div class="detail-container">
        <h2 class="product-title">{{ product()?.name }}</h2>
        <p class="product-brand">{{ product()?.brand }}</p>
        <p>{{ product()?.description }}</p>
        <p class="price">{{ product()?.price | currency: 'ARS'}}</p>
        @if(product()?.stock == 0){
            <h4>Producto sin Stock.</h4>
        }
        @else {
            <p>Stock: {{product()?.stock }}</p>
            <div class="btns-container">
                <p-button label="Ofertar" severity="warn" icon="pi pi-dollar" (click)="openOfferDialog()" [disabled]="currentUser?.isSeller"/>
                    <p-dialog header="Realizar oferta" [modal]="true" [(visible)]="showOfferDialog" [style]="{ width: '25rem' }" styleClass="dialog-container">
                        <div class="dialog-container">

                            <label for="price">Ingresar precio</label>
                            <p-inputnumber [ngModel]="offerAmount()" (ngModelChange)="offerAmount.set($event)" inputId="price" mode="currency" currency="ARS" locale="es-AR"   />
                        </div>
                        <div class="btn-actions">
                            <p-button label="Cancelar" severity="secondary" (click)="changeOffer()" />
                            <p-button label="Ofertar" (click)="submitOffer()" />
                        </div>
                    </p-dialog>
                <p-button label="Agregar al carrito" icon="pi pi-cart-plus" (click)="addToCart()" [disabled]="currentUser?.isSeller"/>
            </div>
        }
    </div>
</div>
